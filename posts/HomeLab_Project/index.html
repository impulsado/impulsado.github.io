<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="homeLab Project Documentation" /><meta property="og:locale" content="en" /><meta name="description" content="homeLab Project Documentation This is my documentation for the “homeLab” project. Here you will be able to configure your Raspberry Pi to be a server of very useful services in the day to day like for example: Samba, Bitwarden…" /><meta property="og:description" content="homeLab Project Documentation This is my documentation for the “homeLab” project. Here you will be able to configure your Raspberry Pi to be a server of very useful services in the day to day like for example: Samba, Bitwarden…" /><link rel="canonical" href="https://impulsado.github.io/posts/HomeLab_Project/" /><meta property="og:url" content="https://impulsado.github.io/posts/HomeLab_Project/" /><meta property="og:site_name" content="wannaNotes" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-08-27T00:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="homeLab Project Documentation" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-11-27T19:53:52+01:00","datePublished":"2022-08-27T00:00:00+02:00","description":"homeLab Project Documentation This is my documentation for the “homeLab” project. Here you will be able to configure your Raspberry Pi to be a server of very useful services in the day to day like for example: Samba, Bitwarden…","headline":"homeLab Project Documentation","mainEntityOfPage":{"@type":"WebPage","@id":"https://impulsado.github.io/posts/HomeLab_Project/"},"url":"https://impulsado.github.io/posts/HomeLab_Project/"}</script><title>homeLab Project Documentation | wannaNotes</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="wannaNotes"><meta name="application-name" content="wannaNotes"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/72570835?v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">wannaNotes</a></div><div class="site-subtitle font-italic">Cybersecurity Notes</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/impulsado" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="" aria-label="instagram" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['impulsado','protonmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="" aria-label="twitch" > <i class="fab fa-twitch"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>homeLab Project Documentation</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>homeLab Project Documentation</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1661551200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Aug 27, 2022 </em> </span> <span> Updated <em class="" data-ts="1669575232" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Nov 27, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://instagram.com/impulsado">impulsado</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1576 words"> <em>8 min</em> read</span></div></div></div><div class="post-content"><h1 id="homelab-project-documentation">homeLab Project Documentation</h1><p>This is my documentation for the “homeLab” project. Here you will be able to configure your Raspberry Pi to be a server of very useful services in the day to day like for example: Samba, Bitwarden…</p><p>If there is any doubt or error in the documentation, do not hesitate to contact me: <a href="https://www.instagram.com/impulsado">Instagram</a></p><p><img data-src="/assets/img/Photos/Snipaste_2022-09-09_10-54-10.png" alt="Photo" data-proofer-ignore></p><p><br /></p><h2 id="table-of-contents"><span class="mr-2">Table of Contents</span><a href="#table-of-contents" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ol><li><a href="https://notes.impulsado.org/posts/HomeLab_Project/#initial-configuration">Initial Configuration</a><li><a href="https://notes.impulsado.org/posts/HomeLab_Project/#install-and-configure-pivpn">PiVPN</a><li><a href="https://notes.impulsado.org/posts/HomeLab_Project/#install-and-configure-adguard-home">AdGuard Home</a><li><a href="https://notes.impulsado.org/posts/HomeLab_Project/#install-and-configure-docker--portainer">Docker + Portainer</a><li><a href="https://notes.impulsado.org/posts/HomeLab_Project/#install-and-configure-cloudfare-ddns">Cloudflare DDNS</a><li><a href="https://notes.impulsado.org/posts/HomeLab_Project/#install-and-configure-nginx-reverse-proxy">NGINX Reverse Proxy</a><li><a href="https://notes.impulsado.org/posts/HomeLab_Project/#install-and-configure-vaultwarden">Vaultwarden</a><li><a href="https://notes.impulsado.org/posts/HomeLab_Project/#install-and-configure-samba">Samba</a><li><a href="https://notes.impulsado.org/posts/HomeLab_Project/#install-and-configure-dashy">Dashy</a><li><a href="https://notes.impulsado.org/posts/HomeLab_Project/#further-investigations">Further Investigations</a><li><a href="https://notes.impulsado.org/posts/HomeLab_Project/#sources">Sources</a></ol><p><br /></p><h2 id="initial-configuration"><span class="mr-2">Initial configuration</span><a href="#initial-configuration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Since these steps are fairly simple, I will give a short summary of my process before installing anything:</p><ol><li><a href="https://youtu.be/y45hsd2AOpw">Install</a> O.S. to the Raspberry Pi.<li>Execute my <a href="https://notes.impulsado.org/posts/Post_Installation_Script_Debian_Ubuntu/">Post Installation Script</a><li>Assign static IP address to the Raspberry in your Router.</ol><p><br /></p><h2 id="install-and-configure-pivpn"><span class="mr-2">Install and Configure PiVPN</span><a href="#install-and-configure-pivpn" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>PiVPN is a free and open-source software suite that sets up a VPN server using OpenVPN server software. It has been designed specifically to run on a low-cost Raspberry Pi.</p><p>1.. Now executhe the following commands:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c"># Update the system</span>
<span class="nb">sudo </span>apt update <span class="nt">-y</span> <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt upgrade <span class="nt">-y</span>

<span class="c"># Install PiVPN</span>
curl <span class="nt">-L</span> https://install.pivpn.io | bash
</pre></table></code></div></div><p><img data-src="/assets/img/Photos/Snipaste_2022-09-05_13-03-04.png" alt="Photo" data-proofer-ignore> <img data-src="/assets/img/Photos/Snipaste_2022-09-05_13-05-27.png" alt="Photo" data-proofer-ignore></p><p>2.. Create a new user and copy the file to the device we want to use it.</p><blockquote><p>You can use <a href="https://winscp.net/eng/download.php">WinSCP</a> to copy files.</p></blockquote><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c"># Create user</span>
<span class="nb">sudo </span>pivpn <span class="nt">-a</span>

<span class="c"># Change permissions to the directory</span>
<span class="nb">sudo chown</span> <span class="nt">-R</span> pi:pi ~/configs
</pre></table></code></div></div><p><img data-src="/assets/img/Photos/Snipaste_2022-09-06_09-29-35.png" alt="Photo" data-proofer-ignore></p><p>3.. To make this work, we need to create a new Port Forwading rule in our Router: <img data-src="/assets/img/Photos/Snipaste_2022-09-06_09-56-22.png" alt="Photo" data-proofer-ignore></p><p><br /></p><h2 id="install-and-configure-adguard-home"><span class="mr-2">Install and Configure AdGuard Home</span><a href="#install-and-configure-adguard-home" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>AdGuard Home is a network-wide software for blocking ads &amp; tracking. After you set it up, it’ll cover ALL your home devices, and you don’t need any client-side software for that. It operates as a DNS server that re-routes tracking domains to a “black hole”, thus preventing your devices from connecting to those servers. It’s based on software we use for our public AdGuard DNS servers, and both share a lot of code.</p><p>1.. Execute the following command to install AdGuard Home:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl <span class="nt">-s</span> <span class="nt">-S</span> <span class="nt">-L</span> https://raw.githubusercontent.com/AdguardTeam/AdGuardHome/master/scripts/install.sh | sh <span class="nt">-s</span> <span class="nt">--</span> <span class="nt">-v</span>
</pre></table></code></div></div><p>2.. Navigate to AdGuard Home Administrator Dashboard and finish the setup. (IP:3000) <img data-src="/assets/img/Photos/Snipaste_2022-08-29_21-04-38.png" alt="Photo" data-proofer-ignore></p><p>3.. Now it’s time to configure AdGuard Home. First, we will setup our device and test that AdGuard is working properly. To configure your device, navigate to “Setup Guide” in the Header. <img data-src="/assets/img/Photos/Snipaste_2022-08-29_21-17-02.png" alt="Photo" data-proofer-ignore></p><p>4.. Once we have checked that, at least, one device is working properly, we will add more blocklists to the filter. Navigate to: Filters &gt; DNS Blocklists &gt; Add Blocklists &gt; Choose from the list. <img data-src="/assets/img/Photos/Snipaste_2022-08-31_18-40-23.png" alt="Photo" data-proofer-ignore></p><p>5.. Select all the options and click Save.</p><blockquote><p>If you want more domains, you can visit this <a href="https://firebog.net/">web</a> and copy those URLs into your Blocklists filter.</p></blockquote><p><br /></p><h2 id="install-and-configure-docker--portainer"><span class="mr-2">Install and Configure Docker &amp; Portainer</span><a href="#install-and-configure-docker--portainer" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Most of this project is based on a program called <a href="https://www.docker.com/">Docker</a>, so the first step will be to install it along with Portainer in order to manage it.</p><p>Docker packages software into standardized units called containers that include everything needed for the software to run, including libraries, system tools, code and runtime.</p><blockquote><p>More information <a href="https://docs.docker.com/get-docker/">link</a>.</p></blockquote><p>1.. Execute the following commands:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="c"># Update the system</span>
<span class="nb">sudo </span>apt update <span class="nt">-y</span> <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt upgrade <span class="nt">-y</span>

<span class="c"># Install Docker</span>
curl <span class="nt">-sSL</span> https://get.docker.com | sh

<span class="c"># Enable Docker</span>
<span class="nb">sudo </span>systemctl <span class="nb">enable</span> <span class="nt">--now</span> docker

<span class="c"># Give user permissions to Docker (pi=my username)</span>
<span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker pi

<span class="c"># Install Portainer</span>
<span class="nb">sudo </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 9000:9000 <span class="nt">-p</span> 9443:9443 <span class="nt">--name</span><span class="o">=</span>portainer <span class="nt">--restart</span><span class="o">=</span>always <span class="nt">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="nt">-v</span> portainer_data:/data portainer/portainer-ce:latest
</pre></table></code></div></div><p>2.. Once installed, open your web browser and navigate to the Protainer Dashboard. To do that, you will need to write down the IP:Port. In out case, port is mapped to 9000. <img data-src="/assets/img/Photos/Snipaste_2022-08-28_22-13-53.png" alt="Photo" data-proofer-ignore></p><p>3.. Before installing anything else, let’s change the templates shown in “App Templates”. To do that, you will need to change the URL to https://raw.githubusercontent.com/pi-hosted/pi-hosted/master/template/portainer-v2-arm64.json <img data-src="/assets/img/Photos/Snipaste_2022-08-28_22-23-28.png" alt="Photo" data-proofer-ignore></p><p>4.. Finally, let’s configure the IP to which the shortcuts will open to point to the raspberry pi (192.168.1.81) and not to its local one (127.0.0.1). Navigate to Environment &gt; local. In Public IP, write down Raspberry Pi IP. <img data-src="/assets/img/Photos/Snipaste_2022-08-29_07-05-41.png" alt="Photo" data-proofer-ignore></p><p><br /></p><h2 id="install-and-configure-cloudfare-ddns"><span class="mr-2">Install and Configure Cloudfare DDNS</span><a href="#install-and-configure-cloudfare-ddns" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Dynamic DNS (DDNS) is a service that keeps the DNS updated with a web property’s correct IP address, even if that IP address is constantly being updated.</p><blockquote><p>More information <a href="https://www.cloudflare.com/learning/dns/glossary/dynamic-dns/">Link</a></p></blockquote><p>1.. Open Cloudfare dashboard and create a new API Token. <a href="https://dash.cloudflare.com/profile/api-tokens">Link</a></p><p>2.. Create a new Token &gt; Create Custom Token.</p><p><img data-src="/assets/img/Photos/Snipaste_2022-09-06_11-14-15.png" alt="Photo" data-proofer-ignore></p><p>3.. From the Templates list, select Cloudfare DDNS and configure it:</p><p><img data-src="/assets/img/Photos/Snipaste_2022-09-06_11-20-00.png" alt="Photo" data-proofer-ignore></p><p>4.. Finally, check in Cloudfare that we can see our “local” entry pointing to our Public IP.</p><blockquote><p>We must change the option to DNS Only because we will use NGINX in the future.</p></blockquote><p><img data-src="/assets/img/Photos/Snipaste_2022-09-06_11-22-05.png" alt="Photo" data-proofer-ignore></p><p><br /></p><h2 id="install-and-configure-nginx-reverse-proxy"><span class="mr-2">Install and Configure NGINX Reverse Proxy</span><a href="#install-and-configure-nginx-reverse-proxy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The Nginx proxy manager (NPM) is a reverse proxy management system running on Docker. NPM is based on an Nginx server and provides users with a clean, efficient, and beautiful web interface for easier management. The tool is easy to set up and does not require users to know how to work with Nginx servers or SSL certificates.</p><blockquote><p>More information <a href="https://nginxproxymanager.com/">Link</a></p></blockquote><p>1.. Create the directory and a yaml file inside with this content:</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3'</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">app</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s1">'</span><span class="s">jc21/nginx-proxy-manager:latest'</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">80:80'</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">81:81'</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">443:443'</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./data:/data</span>
      <span class="pi">-</span> <span class="s">./letsencrypt:/etc/letsencrypt</span>
</pre></table></code></div></div><p>2.. After creating this file, bring up the stack.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>docker-compose up <span class="nt">-d</span>
</pre></table></code></div></div><p>3.. Login into Admin UI (IP:81) and end the configuration.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>Email:    admin@example.com
Password: changeme
</pre></table></code></div></div><p><br /></p><h2 id="install-and-configure-vaultwarden"><span class="mr-2">Install and Configure Vaultwarden</span><a href="#install-and-configure-vaultwarden" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Bitwarden is a free and open-source password management service that stores sensitive information such as website credentials in an encrypted vault. The Bitwarden platform offers a variety of client applications including a web interface, desktop applications, browser extensions, mobile apps, and a command-line interface.</p><blockquote><p>More information <a href="https://github.com/dani-garcia/vaultwarden">Link</a></p></blockquote><p>0.. Create 2 Forwarding rules in your router (HTTP &amp; HTTPS).</p><p>1.. Create the directory and a yaml file inside with this content:</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3'</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">vaultwarden</span><span class="pi">:</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">vaultwarden</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">vaultwarden/server:latest</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./vw-data/:/data/</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">8062:80</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">LOGIN_RATELIMIT_MAX_BURST=10</span>
      <span class="pi">-</span> <span class="s">LOGIN_RATELIMIT_SECONDS=60</span>
      <span class="pi">-</span> <span class="s">DOMAIN=https://pass.impulsado.org</span>           <span class="c1"># CHANGE THIS</span>
      <span class="pi">-</span> <span class="s">ADMIN_TOKEN=P@ssword</span>                        <span class="c1"># CHANGE THIS</span>
      <span class="pi">-</span> <span class="s">SIGNUPS_ALLOWED=false</span>
      <span class="pi">-</span> <span class="s">SIGNUPS_DOMAINS_WHITELIST=example.com</span>       <span class="c1"># CHANGE THIS</span>
      <span class="pi">-</span> <span class="s">SIGNUPS_VERIFY=true</span>
      <span class="pi">-</span> <span class="s">SIGNUPS_VERIFY_RESEND_TIME=3600</span>
      <span class="pi">-</span> <span class="s">SIGNUPS_VERIFY_RESEND_LIMIT=6</span>
      <span class="pi">-</span> <span class="s">EMERGENCY_ACCESS_ALLOWED=true</span>
      <span class="pi">-</span> <span class="s">SENDS_ALLOWED=true</span>
      <span class="pi">-</span> <span class="s">WEB_VAULT_ENABLED=true</span>
</pre></table></code></div></div><p>2.. After installing it, access to portainer and add the Vaultwarden container to the NGINX network. <img data-src="/assets/img/Photos/Snipaste_2022-09-07_09-14-25.png" alt="Photo" data-proofer-ignore></p><p>3.. Now access to NGINX dashboard and create a new Certificate to the Vaultwarden container. Navigate to: SSL certificate &gt; “Add SSL certificate” <img data-src="/assets/img/Photos/Snipaste_2022-09-07_09-21-47.png" alt="Photo" data-proofer-ignore> <img data-src="/assets/img/Photos/Snipaste_2022-09-07_09-16-42.png" alt="Photo" data-proofer-ignore></p><p>4.. Now add a new “Proxy Host”.</p><p><img data-src="/assets/img/Photos/Snipaste_2022-09-07_09-50-15.png" alt="Photo" data-proofer-ignore> <img data-src="/assets/img/Photos/Snipaste_2022-09-07_09-50-36.png" alt="Photo" data-proofer-ignore></p><p>5.. Finally, access to the website and create an account. Remember that the email domain must be one of the previously authorized ones. (e.g. example.com = mail@example.com).</p><p>6.. If you want to configure Vaultwarden more extensively, you can go to “pass.domain.com/admin”.</p><p><br /></p><h2 id="install-and-configure-samba"><span class="mr-2">Install and Configure Samba</span><a href="#install-and-configure-samba" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Samba is an open-source software suite that runs on Unix/Linux based platforms but is able to communicate with Windows clients like a native application. So Samba is able to provide this service by employing the Common Internet File System (CIFS).</p><blockquote><p>More information <a href="https://www.samba.org/">Link</a></p></blockquote><p>1.. Mount the external storage.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="c"># List all disks and search for the onw you want to mount.</span>
<span class="nb">sudo </span>fdisk <span class="nt">-l</span>

<span class="c"># Create the folder where the disk will be mounted.</span>
<span class="nb">sudo mkdir</span> /mnt/&lt;name-of-the-drive&gt;

<span class="c"># Edit /etc/fstab</span>
<span class="nv">UUID</span><span class="o">=</span>&lt;uuid-of-your-drive&gt;  &lt;mount-point&gt;  &lt;file-system-type&gt;  &lt;mount-option&gt;  &lt;dump&gt;  &lt;pass&gt;

<span class="c">## EXAMPLE</span>
<span class="nv">UUID</span><span class="o">=</span>0792EAD8-DE83-4D3B-A031-DE16CF8AF399 /mnt/sda1 ext4 defaults 0 1

<span class="c"># Save the config and close the file.</span>
<span class="nb">sudo </span>mount <span class="nt">-a</span>
</pre></table></code></div></div><p>2.. Open Portainer and search for Samba template.</p><p>3.. Configure Samba template like this: <img data-src="/assets/img/Photos/Snipaste_2022-09-08_09-19-11.png" alt="Photo" data-proofer-ignore></p><p>4.. Wait a little bit and try to connect to Samba: <br /> <img data-src="/assets/img/Photos/Snipaste_2022-09-08_09-20-08.png" alt="Photo" data-proofer-ignore></p><p><br /></p><h2 id="install-and-configure-dashy"><span class="mr-2">Install and Configure Dashy</span><a href="#install-and-configure-dashy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>A self-hostable personal dashboard built for you. Includes status-checking, widgets, themes, icon packs, a UI editor.</p><blockquote><p>More information <a href="https://github.com/Lissy93/dashy">Link</a></p></blockquote><p>1.. Create the folder where you will creat the configuration file and create the <code class="language-plaintext highlighter-rouge">conf.yml</code>.</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre><td class="rouge-code"><pre><span class="nn">---</span>
<span class="na">pageInfo</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Hello, impulsado</span>
  <span class="na">description</span><span class="pi">:</span> <span class="s">Dashboard</span>
  <span class="na">logo</span><span class="pi">:</span> <span class="s">https://avatars.githubusercontent.com/u/72570835?v=4</span>
<span class="na">appConfig</span><span class="pi">:</span>
  <span class="na">statusCheck</span><span class="pi">:</span> <span class="no">false</span>
  <span class="na">theme</span><span class="pi">:</span> <span class="s">dashy-docs</span>
  <span class="na">fontAwesomeKey</span><span class="pi">:</span> <span class="s">c94dc2b452</span>
  <span class="na">customCss</span><span class="pi">:</span> <span class="s1">'</span><span class="s">.clock</span><span class="nv"> </span><span class="s">p.time</span><span class="nv"> </span><span class="s">{</span><span class="nv"> </span><span class="s">font-size:</span><span class="nv"> </span><span class="s">3rem</span><span class="nv"> </span><span class="s">!important;</span><span class="nv"> </span><span class="s">}'</span>
  <span class="na">layout</span><span class="pi">:</span> <span class="s">vertical</span>
  <span class="na">iconSize</span><span class="pi">:</span> <span class="s">medium</span>
  <span class="na">language</span><span class="pi">:</span> <span class="s">es</span>
<span class="na">sections</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Today</span>
    <span class="na">icon</span><span class="pi">:</span> <span class="s">far fa-smile-beam</span>
    <span class="na">displayData</span><span class="pi">:</span>
      <span class="na">collapsed</span><span class="pi">:</span> <span class="no">false</span>
      <span class="na">hideForGuests</span><span class="pi">:</span> <span class="no">false</span>
    <span class="na">widgets</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">clock</span>
        <span class="na">id</span><span class="pi">:</span> <span class="s">0_513_clock</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Selfhosted</span>
    <span class="na">icon</span><span class="pi">:</span> <span class="s">far fa-code</span>
    <span class="na">items</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">AdGuard</span>
        <span class="na">icon</span><span class="pi">:</span> <span class="s">si-adguard</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">http://192.168.1.81:3000/</span>
      <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">Nginx Reverse Proxy</span>
        <span class="na">icon</span><span class="pi">:</span> <span class="s">si-nginx</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">http://192.168.1.81:81/</span>
      <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">Portainer</span>
        <span class="na">icon</span><span class="pi">:</span> <span class="s">si-portainer</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">http://192.168.1.81:9000/</span>
      <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">Vaultwarden</span>
        <span class="na">icon</span><span class="pi">:</span> <span class="s">si-bitwarden</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">https://pass.impulsado.org</span>
      <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">Cloudflare</span>
        <span class="na">icon</span><span class="pi">:</span> <span class="s">si-cloudflare</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">https://www.cloudflare.com/</span>
      <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">wannaNotes</span>
        <span class="na">icon</span><span class="pi">:</span> <span class="s">si-github</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">https://www.notes.impulsado.org/</span>
      <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">Router</span>
        <span class="na">icon</span><span class="pi">:</span> <span class="s">si-pfsense</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">http://192.168.1.1/homeAuthentication.html---</span>
</pre></table></code></div></div><p>2.. Go to Portainer and create a new stack.</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="nn">---</span>
<span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2.1"</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">dashy</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">lissy93/dashy</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">Dashy</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/home/pi/Programs/Dashy/conf.yml:/app/public/conf.yml</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">4000:80</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">NODE_ENV=production</span>
      <span class="pi">-</span> <span class="s">UID=1001</span>
      <span class="pi">-</span> <span class="s">GID=100</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
</pre></table></code></div></div><p><img data-src="/assets/img/Photos/Snipaste_2022-09-09_09-34-03.png" alt="Photo" data-proofer-ignore></p><p>3.. Now you can access to the Dashboard (IP:4000)</p><p><br /></p><h2 id="further-investigations"><span class="mr-2">Further Investigations</span><a href="#further-investigations" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul class="task-list"><li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />SSL Certificates<li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Backups<li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Manage Logs<li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Fail2Ban</ul><p><br /></p><h2 id="sources"><span class="mr-2">Sources</span><a href="#sources" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><strong>Pi-Hosted Project:</strong> https://github.com/novaspirit/pi-hosted<li><strong>Self-Hosted Docker setups:</strong> https://github.com/abhilesh/self-hosted_docker_setups<li><strong>Selfhosted Reddit:</strong> https://www.reddit.com/r/selfhosted/</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/homelab/'>HomeLab</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/docker/" class="post-tag no-text-decoration" >docker</a> <a href="/tags/raspberry-pi/" class="post-tag no-text-decoration" >raspberry_pi</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/HomeLab_Project/">homeLab Project Documentation</a><li><a href="/posts/tcpdump/">tcpdump</a><li><a href="/posts/Post_Installation_Script_Debian_Ubuntu/">Post Installation Script - Debian & Ubuntu</a><li><a href="/posts/Spiderfoot/">Spiderfoot</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ftp/">ftp</a> <a class="post-tag" href="/tags/openvpn/">OpenVPN</a> <a class="post-tag" href="/tags/php/">php</a> <a class="post-tag" href="/tags/post-installation/">Post_installation</a> <a class="post-tag" href="/tags/samba/">SAMBA</a> <a class="post-tag" href="/tags/script/">Script</a> <a class="post-tag" href="/tags/sql/">SQL</a> <a class="post-tag" href="/tags/suid/">SUID</a> <a class="post-tag" href="/tags/burp-suite/">Burp_suite</a> <a class="post-tag" href="/tags/dirbuster/">dirbuster</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Quantum-Computers/"><div class="card-body"> <em class="small" data-ts="1669503600" data-df="ll" > Nov 27, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Quantum computers</h3><div class="text-muted small"><p> Index Theoretical Bases Advantages / Disadvantages Encryption Real Examples Future Forecast Theoretical Basis Currently computers works with bits. These are 1’s and 0’...</p></div></div></a></div><div class="card"> <a href="/posts/tcpdump/"><div class="card-body"> <em class="small" data-ts="1666044000" data-df="ll" > Oct 18, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>tcpdump</h3><div class="text-muted small"><p> tcpdump Packet analyzer that is launched from the command line. It can be used to analyze network traffic by intercepting and displaying packets that are being created or received by the computer i...</p></div></div></a></div><div class="card"> <a href="/posts/Spiderfoot/"><div class="card-body"> <em class="small" data-ts="1666044000" data-df="ll" > Oct 18, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spiderfoot</h3><div class="text-muted small"><p> Spiderfoot Open source intelligence (OSINT) automation tool. It integrates with just about every data source available and utilises a range of methods for data analysis, making that data easy to na...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/tmux/" class="btn btn-outline-primary" prompt="Older"><p>tmux</p></a> <a href="/posts/Spiderfoot/" class="btn btn-outline-primary" prompt="Newer"><p>Spiderfoot</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://instagram.com/impulsado">impulsado</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ftp/">ftp</a> <a class="post-tag" href="/tags/openvpn/">OpenVPN</a> <a class="post-tag" href="/tags/php/">php</a> <a class="post-tag" href="/tags/post-installation/">Post_installation</a> <a class="post-tag" href="/tags/samba/">SAMBA</a> <a class="post-tag" href="/tags/script/">Script</a> <a class="post-tag" href="/tags/sql/">SQL</a> <a class="post-tag" href="/tags/suid/">SUID</a> <a class="post-tag" href="/tags/burp-suite/">Burp_suite</a> <a class="post-tag" href="/tags/dirbuster/">dirbuster</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
